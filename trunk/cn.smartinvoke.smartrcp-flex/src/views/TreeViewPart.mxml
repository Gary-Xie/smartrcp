<?xml version="1.0" encoding="utf-8"?>
<gui:RCPModule xmlns:mx="http://www.adobe.com/2006/mxml" xmlns:gui="cn.smartinvoke.gui.*"
	layout="vertical" creationComplete="init()">
	<mx:Script>
		<![CDATA[
			import mx.controls.Alert;
			import cn.smartinvoke.rcp.CLayoutBasicInfo;
			import cn.smartinvoke.smartrcp.gui.control.ViewManager;
			import mx.controls.Tree;
			import mx.events.ListEvent; 
			import cn.smartinvoke.executor.Executor;
			import cn.smartinvoke.smartrcp.gui.module.CEvent;
			import org.eclipse.swt.CEventType;
			import org.eclipse.swt.widgets.Display;
			function init():void{				
			    Display.getCurrent().addListener(CEventType.KeyDown,this.onKeyEvent,this);
				Display.getCurrent().addListener(CEventType.KeyUp,this.onKeyEvent,this);
			}
			private function onKeyEvent(evt:CEvent):void{
				var info:String=evt.type+"  "+evt.character+" "+evt.time;
				//this.setInfo(info);
			}
			private function onItemDbClick(evt:ListEvent):void{
				var selItem:XML=Tree(evt.target).selectedItem as XML;
				//Alert.show(selItem+"");
				if(selItem!=null){
					var modulePath:String=selItem.@module;
					var basicInfo:CLayoutBasicInfo=new CLayoutBasicInfo();
					basicInfo.isModuleSwf=true;
					basicInfo.title=selItem.@label;
					basicInfo.viewId=modulePath;
					ViewManager.Instance.openViewPart(basicInfo,true,ViewManager.VIEW_ACTIVATE);
				}
			}
			
			
		]]>
	</mx:Script>
	<mx:XMLList id="treeData">
         <node>
            <node label="菜单">
                <node label="菜单栏" module="views/AppMenuBar_T.swf"/>
                <node label="右键单栏" module="views/ContextMenu_T.swf"/>
            </node>
            <node label="工具栏" module="views/AppToolBar_T.swf"/>
            <node label="键盘事件">
            </node>
            <node label="视图管理" module="views/ViewManager_T.swf"/>
            <node label="状态栏"/>
            <node label="扩展API">
               <node label="调用J2SE库"/>
               <node label="扩展库"/>
               <node label="调用eclipse插件视图"/>
            </node>
        </node>
    </mx:XMLList>
    <mx:Label text="功能列表" width="100%"/>
	<mx:Tree width="100%" height="100%" dataProvider="{this.treeData}"  itemDoubleClick="this.onItemDbClick(event)"
		labelField="@label" showRoot="false" doubleClickEnabled="true">
	</mx:Tree>
</gui:RCPModule> 
